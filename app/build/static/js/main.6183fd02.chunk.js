(this.webpackJsonpservos=this.webpackJsonpservos||[]).push([[0],{35:function(e,t,n){e.exports=n(74)},40:function(e,t,n){},41:function(e,t,n){},42:function(e,t,n){},71:function(e,t){},74:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),s=n(33),r=n.n(s),i=(n(40),n(11)),l=n(4),c=n(5),h=n(7),d=n(6),u=n(1),m=n(8),v=(n(41),function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(h.a)(this,Object(d.a)(t).call(this,e))).state={angle:n.props.angle},n.handleChange=n.handleChange.bind(Object(u.a)(n)),n.handleEmit=n.handleEmit.bind(Object(u.a)(n)),n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){void 0!==this.props.socket&&this.props.socket.emit("move",{id:this.props.servo,value:this.state.angle,zone:this.props.zone})}},{key:"handleChange",value:function(e){this.setState({angle:e.target.value})}},{key:"handleEmit",value:function(){void 0!==this.props.socket&&this.props.socket.emit("move",{id:this.props.servo,value:this.state.angle,zone:this.props.zone})}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"servo-container"},void 0!==this.props.name?o.a.createElement("h1",null,this.props.name):o.a.createElement("h1",null,"Channel ",this.props.servo),o.a.createElement("h3",null,this.state.angle,"\xb0"),o.a.createElement("input",{type:"range",min:"0",max:"180",value:this.state.angle,onChange:this.handleChange,step:"1",onMouseUp:this.handleEmit,onKeyDown:this.handleEmit}),o.a.createElement("button",{className:"delete-button",onClick:function(){e.props.handleDelete(e.props.servo)}},"Delete"))}}]),t}(a.Component)),p=(n(42),function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(h.a)(this,Object(d.a)(t).call(this,e))).state={name:n.props.name,servos:JSON.parse(localStorage.getItem(n.props.zone.id))||[],socket:void 0,servoId:0,servoAngle:0,errorMessage:void 0},n.handleInputChange=n.handleInputChange.bind(Object(u.a)(n)),n.handleNewServo=n.handleNewServo.bind(Object(u.a)(n)),n.handleDelete=n.handleDelete.bind(Object(u.a)(n)),n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"handleInputChange",value:function(e){var t=e.target,n="checkbox"===t.type?t.checked:t.value,a=t.name;this.setState(Object(i.a)({},a,n))}},{key:"handleNewServo",value:function(){var e=this,t=this.state.servos,n=!1;t.map((function(t){t.id===e.state.servoId&&(n=!0)})),!1===n?(t.push({id:this.state.servoId,angle:this.state.servoAngle}),this.setState({servos:t,errorMessage:void 0})):this.setState({errorMessage:"Servo channel is already in use."}),localStorage.setItem(this.props.zone.id,JSON.stringify(t))}},{key:"handleDelete",value:function(e){var t=this.state.servos;t=t.filter((function(t){return t.id!==e})),this.setState({servos:t}),console.log(t),localStorage.setItem(this.props.zone.id,JSON.stringify(t))}},{key:"render",value:function(){var e=this;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"zone"},o.a.createElement("h1",null,"ID: ".concat(this.props.zone.id," - ").concat(this.props.zone.name)),void 0!==this.state.errorMessage&&o.a.createElement("p",{className:"error-message"},this.state.errorMessage),o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"servo-container servo-form-container"},o.a.createElement("div",null,o.a.createElement("label",{htmlFor:"servoId"},"Channel"),o.a.createElement("input",{type:"number",id:"servoId",name:"servoId",min:"0",value:this.state.servoId,onChange:this.handleInputChange})),o.a.createElement("div",null,o.a.createElement("label",{htmlFor:"servoValue"},"Initial Angle"),o.a.createElement("input",{type:"number",id:"servoAngle",name:"servoAngle",min:0,max:180,value:this.state.servoAngle,onChange:this.handleInputChange})),o.a.createElement("button",{className:"add-button",onClick:this.handleNewServo},"Add Servo"),o.a.createElement("button",{className:"delete-button",onClick:function(){e.props.handleDelete(e.props.zone.id)}},"Delete")),this.state.servos.map((function(t){return o.a.createElement(v,{key:t.id,zone:e.props.zone,servo:t.id,angle:t.angle,socket:e.props.socket,handleDelete:e.handleDelete})})))))}}]),t}(a.Component)),g=n(34),b=n.n(g),f=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(h.a)(this,Object(d.a)(t).call(this))).state={endpoint:"http://34.95.47.109:8080",socket:void 0,zoneId:"",zoneName:"",errorMessage:void 0,zones:JSON.parse(localStorage.getItem("zones"))||[]},e.handleChange=e.handleChange.bind(Object(u.a)(e)),e.handleAdd=e.handleAdd.bind(Object(u.a)(e)),e.handleDelete=e.handleDelete.bind(Object(u.a)(e)),e}return Object(m.a)(t,e),Object(c.a)(t,[{key:"handleAdd",value:function(e){var t=this,n=this.state.zones,a=!1;n.map((function(e){e.id===t.state.zoneId&&(a=!0)})),!1===a?(n.push({id:e||this.state.zoneId,name:e||this.state.zoneName}),this.setState({zones:n,errorMessage:void 0})):this.setState({errorMessage:"Zone already exists."}),localStorage.setItem("zones",JSON.stringify(n))}},{key:"handleChange",value:function(e){var t=e.target,n="checkbox"===t.type?t.checked:t.value,a=t.name;this.setState(Object(i.a)({},a,n))}},{key:"handleDelete",value:function(e){var t,n=this.state.zones;t=n.filter((function(t){return t.id===e})),console.log(t),n=n.filter((function(t){return t.id!==e})),this.setState({zones:n}),localStorage.removeItem(e),localStorage.setItem("zones",JSON.stringify(n))}},{key:"componentDidMount",value:function(){var e=this,t=b()(this.state.endpoint).connect();t.on("new zone",(function(t,n){n||e.handleAdd(t.id)})),t.on("delete zone",(function(t,n){console.log(t),n||e.handleDelete(t.id)})),this.setState({socket:t})}},{key:"render",value:function(){var e=this;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"input-container"},o.a.createElement("div",{className:"input-group"},o.a.createElement("label",{htmlFor:"zoneId"},"Zone ID"),o.a.createElement("input",{type:"text",id:"zoneId",name:"zoneId",value:this.state.zoneId,onChange:this.handleChange})),o.a.createElement("div",{className:"input-group"},o.a.createElement("label",{htmlFor:"zoneName"},"Zone name"),o.a.createElement("input",{type:"text",id:"zoneName",name:"zoneName",value:this.state.zoneName,onChange:this.handleChange})),o.a.createElement("button",{className:"add-button",onClick:this.handleAdd},"Add zone")),void 0!==this.state.errorMessage&&o.a.createElement("p",{className:"error-message"},this.state.errorMessage),this.state.zones.map((function(t){return o.a.createElement(p,{key:t.id,socket:e.state.socket,zone:t,handleDelete:e.handleDelete})})))}}]),t}(o.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(o.a.createElement(f,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[35,1,2]]]);
//# sourceMappingURL=main.6183fd02.chunk.js.map